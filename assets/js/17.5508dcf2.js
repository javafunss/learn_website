(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{422:function(s,a,e){"use strict";e.r(a);var n=e(2),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"mysql-安装配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-安装配置"}},[s._v("#")]),s._v(" Mysql 安装配置")]),s._v(" "),a("p",[s._v("1.安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.下载安装包\n\n wget -c https://dev.mysql.com/get/mysql-apt-config_0.8.10-1_all.deb\n\n sudo dpkg -i mysql-apt-config_0.8.10-1_all.deb\n\n 删除过期签名\n sudo apt-key del dsa1024\n\n sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80  --recv-keys 8C718D3B5072E1F5\n\n apt-get update\n sudo apt install mysql-server\n\n\n2.添加组和用户\ngroupadd mysql\n\nuseradd -r -g mysql mysql\n\ncd /usr/local/\n\nchown -R mysql:mysql mysql\n\n3.初始化数据库\ncd /usr/local/mysql\nmysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("用户及常用初始化sql"),a("br"),s._v("\n第一步：输入以下指令 vim /etc/my.cnf\n第二步：在[mysqld] 下加命令行skip-grant-tables，然后保存退出，退出方法为先按Esc，然后再输入:wq\n第三步：重启mysql，重启命令为service mysqld restart;\n第四步：输入mysql -u root -p ，在输入密码的地方直接按Enter键\n第五步：输入flush privileges命令\n第六步：输入use mysql以及select user,host from user;命令用来确认root的host是哪个\n第七步：输入修改密码的指令alter user'root'@'%' IDENTIFIED BY 'MyNewPass@666';\n第八步：修改用户表的root账号host为%：UPDATE user SET "),a("code",[s._v("Host")]),s._v(" = '%' WHERE "),a("code",[s._v("User")]),s._v(" = 'root' LIMIT 1;")])]),s._v(" "),a("p",[s._v("8.0 之前版本修改密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SET PASSWORD=PASSWORD('修改的密码') \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("8.0 之后版本(mysql_native_password)修改密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("8.0 之后版本(caching_sha2_password)修改密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'password';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("普通添加用户方式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use mysql;\ninsert into user (host, user, password, select_priv, insert_priv, update_priv) \n VALUES ('localhost', 'crm', PASSWORD('123'), 'Y', 'Y', 'Y');\nflush privileges;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("5.7版本：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use mysql;\ncreate user 'username'@'%' identified by '123456';\n\nflush privileges;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("8.0之后版本：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use mysql;\ncreate user 'crm'@'%' identified with mysql_native_password by 'crm1234';\n\ngrant all on *.* to 'crm'@'%';\nflush privileges;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("添加用户并赋予权限")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("grant all on *.* to 'crm'@'%' IDENTIFIED BY '密码';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看用户权限 "),a("code",[s._v("show grants for 'xxx'@'%'")])]),s._v(" "),a("h2",{attrs:{id:"mysql-常用sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-常用sql"}},[s._v("#")]),s._v(" Mysql 常用sql")]),s._v(" "),a("p",[s._v("查询端口：  "),a("code",[s._v("show global variables like 'port';")])]),s._v(" "),a("h2",{attrs:{id:"mysql-配置优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-配置优化"}},[s._v("#")]),s._v(" Mysql 配置优化")])])}),[],!1,null,null,null);a.default=t.exports}}]);