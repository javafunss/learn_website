(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{424:function(s,a,n){"use strict";n.r(a);var e=n(2),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境配置"}},[s._v("#")]),s._v(" 环境配置")]),s._v(" "),a("h3",{attrs:{id:"dml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dml"}},[s._v("#")]),s._v(" DML")]),s._v(" "),a("p",[s._v("创建索引 "),a("code",[s._v("create index idx_xxx on xxx(column)")])]),s._v(" "),a("h3",{attrs:{id:"_2-常用命令说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用命令说明"}},[s._v("#")]),s._v(" 2.常用命令说明：")]),s._v(" "),a("p",[s._v("1.新增用户：")]),s._v(" "),a("div",{staticClass:"language-postgresql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create role nhoa password 'Abcd1234';\ncreate database nhoa owner nhoa;\nALTER ROLE nhoa WITH LOGIN SUPERUSER;\n\\c nhoa\ncreate extension pgcrypto;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("2.字符串操作：\n日期加减处理：")]),s._v(" "),a("div",{staticClass:"language-postgresql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("TO_TIMESTAMP('20161026', 'YYYYMMDD) + (字段||'days')::interval\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3.数据备份与恢复")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# cd /home\n# mkdir postgres\n# chown postgres:postgres postgres\n\n# cd /root\n# mkdir bin\n# cd bin\n# vi crm.dbback.sh\n\n#! /bin/bash\n\nsu - postgres -c "/usr/bin/pg_dump -h localhost crm | gzip --best > "/home/postgres/$(date +%Y-%m-%d_%H-%M-%S).sql.gz""\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("4.单表数据导入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("psql -d crm -U crm -f < /data/a.sql\n\npsql -d crm -U crm -f D:\\data\\a.sql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);